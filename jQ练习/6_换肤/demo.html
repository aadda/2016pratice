<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>换肤</title>
	<link href="css/default.css" rel="stylesheet" type="text/css" />
	<link href="css/skin_0.css" rel="stylesheet" type="text/css" id="cssfile" />
	<script src="../../jQ/jquery-1.12.4.js" type="text/javascript"></script>
	<!--   引入jQuery的cookie插件 -->
	<script src="js/jquery.cookie.js" type="text/javascript"></script>
	<script>
		$(function(){
			var $li = $('#skin li');
			$li.on('click',function(){
				var $skin = $(this).attr('id');
				console.log($skin);
				$(this).addClass('selected').siblings().removeClass('selected');
				$('#div_side_0 div').attr('id',$skin);
				setCookie('color',$skin,7);
			});
			var color = getCookie( "color");
			//MyCssSkin.trigger('click');
			$('li#'+color).trigger('click');
		});


	function setCookie(key,value,day){

        var str = key+"="+value+";";
        if(day){
            var date = new Date();

            date.setDate(date.getDate()+day);

            str+= 'expires='+date;
        }

        document.cookie = str;


    }

    function getCookie(key){
        
        var str = document.cookie;
        var arr = str.split('; ');

        for(var i=0; i<arr.length; i++){
            var arr2 = arr[i].split('=');  

            if(arr2[0] == key){
                return arr2[1];
            }
        }
    }
	</script>
	<style>
		#skin_0 h1{
  			background:#999999;
		}
		#skin_1 h1{
			background: #BB3BD9;
		}
		#skin_2 h1{
			background: #E31559;
		}
		#skin_3 h1{
			background: #08BECE;
		}
		#skin_4 h1{
			background: #FBA60A;
		}
		#skin_5 h1{
			background: #AFD400;
		}
	</style>
</head>
<body>
	<ul id="skin">
		<li id="skin_0" title="灰色" class="selected">灰色</li>
		<li id="skin_1" title="紫色">紫色</li>
		<li id="skin_2" title="红色">红色</li>
		<li id="skin_3" title="天蓝色">天蓝色</li>
		<li id="skin_4" title="橙色">橙色</li>
		<li id="skin_5" title="淡绿色">淡绿色</li>
	</ul>

	<div id="div_side_0">
		<div id="news">
			<h1 class="title">时事新闻</h1>
		</div>
	</div>

	<div id="div_side_0">
		<div id="game">
			<h1>娱乐新闻</h1>
		</div>
	</div>
	<p>说明：本例需使用Firefox才能看到效果，chrome由于安全性限制不允许直接修改cookie</p>
</body>
</html>